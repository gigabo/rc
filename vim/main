" This vimrc module covers the basics.  It's included in my ~/.vimrc
" with a simple "so ~/rc/vim/main"

" My personal bundles (runtimepath)
set rtp^=~/rc/vim/rtp

filetype plugin indent on
set nocp

set hidden          " Allows multiple unwritten buffers
set number          " Adds line numbers on the left
set numberwidth=8   " Fixed number of columns for line numbers
                    " This is useful for copying and pasting with screen,
                    " which which will copy a block excluding the numbers
                    " with 'v' (in copy mode)
set iskeyword+=-    " For CSS... - is a word character
set background=dark
set linebreak
set autoindent
set expandtab
set tabstop=8
set softtabstop=2
set shiftwidth=2
set backspace=2
set showmatch
set ruler
set incsearch
set columns=86
set textwidth=78
syntax on

call pathogen#runtime_append_all_bundles()

runtime! ftdetect/*.vim
au BufNewFile,BufRead *.mustache        setf mustache

au BufRead,BufNewFile *.scss set filetype=scss

" This has all of my main command bindings
so ~/rc/vim/commands

" This highlights everything beyond the 78th column in red :)
so ~/rc/vim/overlength

let g:pydiction_location='~/rc/vim/rtp/ftplugin/pydiction/complete-dict'

let python_highlight_all = 1

" Stuff for golang
filetype off
filetype plugin indent off
set rtp+=$GOROOT/misc/vim
filetype plugin indent on
autocmd BufWritePre *.go :silent Fmt
syntax on

" Close the omnicomplete tip window on movement or when leaving insert mode.
autocmd CursorMovedI * if pumvisible() == 0|pclose|endif
autocmd InsertLeave * if pumvisible() == 0|pclose|endif

" Nicer omnicomplete invocation and behavior.
inoremap <c-o> <c-x><c-o>
se completeopt=longest,menuone
